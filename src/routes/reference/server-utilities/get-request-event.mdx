---
title: getRequestEvent
---

Solid uses Async Local Storage as a way of injecting the request context anywhere on the server. 
This is also the event that shows up in middleware.

It can be retrieved by  `getRequestEvent` from `"solid-js/web"`.

```js
import { getRequestEvent } from "solid-js/web";

const event = getRequestEvent();
```

## Request

The most important property of the `RequestEvent` is `.request`. This is a Web [Request](https://developer.mozilla.org/en-US/docs/Web/API/Request) object that represents the current request to the server. You can access all the properties off of it like `url` and `headers`. The `body` usually does not need to be handled directly for things like server functions or rendering which already handle mapping it.

```js
import { getRequestEvent } from "solid-js/web";

const event = getRequestEvent();
if (event) {
	const auth = event.request.headers.get("Authorization");
}
```

## Response

The `RequestEvent` also can be used to stub out the Response. We extend the options that one would pass to the [`Response`](https://developer.mozilla.org/en-US/docs/Web/API/Response/Response#options) constructor. This is kept up to date so it can be used to read and write headers and status for the current response.

```js
import { getRequestEvent } from "solid-js/web";

const event = getRequestEvent();
if (event) {
	event.response.headers.append("Set-Cookie", "foo=hello");
	event.response.status = 201;
}
```

### Returning a new Response vs updating the event.response

The `getRequestEvent` event is considered global and lasts the life of the request. 
Therefore, if you are calling a server function on the server during SSR or an RPC call, setting values on `event.response` will reflect on that request.

The returned response will only impact the response when it is an RPC call. 
This is important because some headers previously set may not be needed to be set for the whole page, but only for a specific request.

Keep this in mind when choosing where to set headers and responses.

<Callout title="Usage with SolidStart">
	See this guide on [Request
	Events](http://localhost:3000/solid-start/advanced/request-events)
</Callout>
